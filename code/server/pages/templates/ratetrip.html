{% extends "templates/template.html" %}
{% block title %}{{ page_title }}{% endblock %}
{% block content %}
<style>
#slider label {
    position: absolute;
    width: 20px;
    margin-left: -10px;
    text-align: center;
    margin-top: 20px;
	font-size: 11px;
	line-height: 1;
}

/* below is not necessary, just for style */
#slider {
    width: 100%;
    margin: 2em auto;
}
</style>

	<legend><h2>Rate Trip</h2></legend>
	
	
	<form action="/ratetrip" method="POST" id="rate_trip_form" class="form-horizontal" role="form">
		
		<!-- broken javascript
		<div class="form-group">
			<div class="slider-track" id="ex1">
				<div class="slider-selection" style="left: 0%; width: 40%;"></div>
				<div class="slider-handle round" style="left: 40%;"></div>
				<div class="slider-handle round hide" style="left: 0%;"></div>
			</div>
		</div>
		-->
		
		
		
		<div class="form-group">
			<label for="inputRouteId3" class="col-sm-2 control-label">Route Id</label>
			<div class="col-sm-10">
				<input type="text" class="form-control" name="inputRouteId3">
			</div>
		</div>

		
		{% if cleanliness.count() > 0 %}
			<!--<p>Cleanliness</p>-->
			{% for entity in cleanliness %}
				<div class="form-group">
					<label for="{{ entity.topic }}" class="col-sm-2 control-label">{{ entity.question }}</label>
					{% if entity.question_type == "Multiple Choice" %}
						<div class="btn-group col-sm-10" data-toggle="buttons">
						{% for option in entity.options %}
							<label class="btn btn-default">
								<input type="radio" name="{{ entity.topic }}" value="{{ loop.index }}">{{ option }}
							</label>
						{% endfor %}
						</div>
					{% else %}
						<div class="col-sm-10">
							<div id="slider">
								<input type="hidden" id="sliderval" name="{{ entity.topic }}">
								<label style="left: -1%;">{{ entity.options[0] }}</label>
								<label style="left: 24%;">{{ entity.options[1] }}</label>
								<label style="left: 49%;">{{ entity.options[2] }}</label>
								<label style="left: 74%;">{{ entity.options[3] }}</label>
								<label style="left: 99%;">{{ entity.options[4] }}</label>
							</div>
						</div>
					{% endif %}
				</div>
			{% endfor %}
		{% endif %}

		{% if comfort.count() > 0 %}
			<!--<p>Comfort</p>-->
			{% for entity in comfort %}
				<div class="form-group">
					<label for="{{ entity.topic }}" class="col-sm-2 control-label">{{ entity.question }}</label>
					{% if entity.question_type == "Multiple Choice" %}
						<div class="btn-group col-sm-10" data-toggle="buttons">
						{% for option in entity.options %}
							<label class="btn btn-default">
								<input type="radio" name="{{ entity.topic }}" value="{{ loop.index }}">{{ option }}
							</label>
						{% endfor %}
						</div>
					{% else %}
						<div class="col-sm-10">
							<div id="slider">
								<input type="hidden" id="sliderval" name="{{ entity.topic }}">
								<label style="left: -1%;">{{ entity.options[0] }}</label>
								<label style="left: 24%;">{{ entity.options[1] }}</label>
								<label style="left: 49%;">{{ entity.options[2] }}</label>
								<label style="left: 74%;">{{ entity.options[3] }}</label>
								<label style="left: 99%;">{{ entity.options[4] }}</label>
							</div>
						</div>
					{% endif %}
				</div>
			{% endfor %}
		{% endif %}
		
		{% if contribution_to_journey.count() > 0 %}
			<!--<p>Contribution to Journey</p>-->
			{% for entity in contribution_to_journey %}
				<div class="form-group">
					<label for="{{ entity.topic }}" class="col-sm-2 control-label">{{ entity.question }}</label>
					{% if entity.question_type == "Multiple Choice" %}
						<div class="btn-group col-sm-10" data-toggle="buttons">
						{% for option in entity.options %}
							<label class="btn btn-default">
								<input type="radio" name="{{ entity.topic }}" value="{{ loop.index }}">{{ option }}
							</label>
						{% endfor %}
						</div>
					{% else %}
						<div class="col-sm-10">
							<div id="slider">
								<input type="hidden" id="sliderval" name="{{ entity.topic }}">
								<label style="left: -1%;">{{ entity.options[0] }}</label>
								<label style="left: 24%;">{{ entity.options[1] }}</label>
								<label style="left: 49%;">{{ entity.options[2] }}</label>
								<label style="left: 74%;">{{ entity.options[3] }}</label>
								<label style="left: 99%;">{{ entity.options[4] }}</label>
							</div>
						</div>
					{% endif %}
				</div>
			{% endfor %}
		{% endif %}
		
		{% if crowding.count() > 0 %}
			<!--<p>Crowding</p>-->
			{% for entity in crowding %}
				<div class="form-group">
					<label for="{{ entity.topic }}" class="col-sm-2 control-label">{{ entity.question }}</label>
					{% if entity.question_type == "Multiple Choice" %}
						<div class="btn-group col-sm-10" data-toggle="buttons">
						{% for option in entity.options %}
							<label class="btn btn-default">
								<input type="radio" name="{{ entity.topic }}" value="{{ loop.index }}">{{ option }}
							</label>
						{% endfor %}
						</div>
					{% else %}
						<div class="col-sm-10">
							<div id="slider">
								<input type="hidden" id="sliderval" name="{{ entity.topic }}">
								<label style="left: -1%;">{{ entity.options[0] }}</label>
								<label style="left: 24%;">{{ entity.options[1] }}</label>
								<label style="left: 49%;">{{ entity.options[2] }}</label>
								<label style="left: 74%;">{{ entity.options[3] }}</label>
								<label style="left: 99%;">{{ entity.options[4] }}</label>
							</div>
						</div>
					{% endif %}
				</div>
			{% endfor %}
		{% endif %}
		
		{% if customer_service.count() > 0 %}
			<!--<p>Customer Service</p>-->
			{% for entity in customer_service %}
				<div class="form-group">
					<label for="{{ entity.topic }}" class="col-sm-2 control-label">{{ entity.question }}</label>
					{% if entity.question_type == "Multiple Choice" %}
						<div class="btn-group col-sm-10" data-toggle="buttons">
						{% for option in entity.options %}
							<label class="btn btn-default">
								<input type="radio" name="{{ entity.topic }}" value="{{ loop.index }}">{{ option }}
							</label>
						{% endfor %}
						</div>
					{% else %}
						<div class="col-sm-10">
							<div id="slider">
								<input type="hidden" id="sliderval" name="{{ entity.topic }}">
								<label style="left: -1%;">{{ entity.options[0] }}</label>
								<label style="left: 24%;">{{ entity.options[1] }}</label>
								<label style="left: 49%;">{{ entity.options[2] }}</label>
								<label style="left: 74%;">{{ entity.options[3] }}</label>
								<label style="left: 99%;">{{ entity.options[4] }}</label>
							</div>
						</div>
					{% endif %}
				</div>
			{% endfor %}
		{% endif %}
		
		{% if safety_and_security.count() > 0 %}
			<!--<p>Safety and Security</p>-->
			{% for entity in safety_and_security %}
				<div class="form-group">
					<label for="{{ entity.topic }}" class="col-sm-2 control-label">{{ entity.question }}</label>
					{% if entity.question_type == "Multiple Choice" %}
						<div class="btn-group col-sm-10" data-toggle="buttons">
						{% for option in entity.options %}
							<label class="btn btn-default">
								<input type="radio" name="{{ entity.topic }}" value="{{ loop.index }}">{{ option }}
							</label>
						{% endfor %}
						</div>
					{% else %}
						<div class="col-sm-10">
							<div id="slider">
								<input type="hidden" id="sliderval" name="{{ entity.topic }}">
								<label style="left: -1%;">{{ entity.options[0] }}</label>
								<label style="left: 24%;">{{ entity.options[1] }}</label>
								<label style="left: 49%;">{{ entity.options[2] }}</label>
								<label style="left: 74%;">{{ entity.options[3] }}</label>
								<label style="left: 99%;">{{ entity.options[4] }}</label>
							</div>
						</div>
					{% endif %}
				</div>
			{% endfor %}
		{% endif %}
		
		{% if timeliness.count() > 0 %}
			<!--<p>Timeliness</p>-->
			{% for entity in timeliness %}
				<div class="form-group">
					<label for="{{ entity.topic }}" class="col-sm-2 control-label">{{ entity.question }}</label>
					{% if entity.question_type == "Multiple Choice" %}
						<div class="btn-group col-sm-10" data-toggle="buttons">
						{% for option in entity.options %}
							<label class="btn btn-default">
								<input type="radio" name="{{ entity.topic }}" value="{{ loop.index }}">{{ option }}
							</label>
						{% endfor %}
						</div>
					{% else %}
						<div class="col-sm-10">
							<div id="slider">
								<input type="hidden" id="sliderval" name="{{ entity.topic }}">
								<label style="left: -1%;">{{ entity.options[0] }}</label>
								<label style="left: 24%;">{{ entity.options[1] }}</label>
								<label style="left: 49%;">{{ entity.options[2] }}</label>
								<label style="left: 74%;">{{ entity.options[3] }}</label>
								<label style="left: 99%;">{{ entity.options[4] }}</label>
							</div>
						</div>
					{% endif %}
				</div>
			{% endfor %}
		{% endif %}

	  <div class="form-group">
            <label for="inputComments3" class="col-sm-2 control-label">Additional Comments</label>
			<div class="col-sm-10">
				<textarea class="form-control" rows="3"  maxlength="250" name="inputComments3"></textarea>
			</div>
	  </div>
	  
	  <div class="form-group">
	    <div class="col-sm-offset-2 col-sm-10">
	      <button type="submit" class="btn btn-default" name="rate_trip_form_submit">Rate It</button>
	    </div>
	  </div>

	</form>


<script src="static/flatui/dist/js/flat-ui.min.js"></script>

<!--<script>
var $slider = $("#slider");
if ($slider.length > 0) {
  $slider.slider({
    min: 1,
    max: 10,
    value: 3,
    orientation: "horizontal",
    range: "min"
  }).addSliderSegments($slider.slider("option").max);
}
</script>-->
<script>
$("#slider").slider({
    value: 0,
    min: 1,
    max: 5,
    step: 1
})
.each(function() {

  //
  // Add labels to slider whose values 
  // are specified by min, max and whose
  // step is set to 1
  //

  // Get the options for this slider
  var opt = $(this).data().uiSlider.options;
  
  // Get the number of possible values
  var vals = opt.max - opt.min;
  
  // Space out values
  //$("#slider").append($('<label>Strongly Disagree</label>').css('left', '0%'));
  //$("#slider").append($('<label>Disagree</label>').css('left', '23%'));
  //$("#slider").append($('<label><span>Neither Agree Or Disagree</span></label>').css('left', '50%'));
  //$("#slider").append($('<label>Agree</label>').css('left', '75%'));
  //$("#slider").append($('<label>Strongly Agree</label>').css('left', '100%'));
  
  
});
$('#slider').slider({change: function(event, ui) {
      $('#sliderval').val('' + ui.value);
}});
</script>
{% endblock %}